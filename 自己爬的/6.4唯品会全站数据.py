# 要爬取女男内中的女士热销分类中的连衣裙的所有数据

import requests
import json
# 101-120的url
# url =   'https://mapi.vip.com/vips-mobile/rest/shopping/pc/product/module/list/v2?callback=getMerchandiseDroplets3&app_name=shop_pc&app_version=4.0&warehouse=VIP_HZ&fdc_area_id=104101101&client=pc&mobile_platform=1&province_id=104101&api_key=70f71280d5d547b2a7bb370a529aeea1&user_id=&mars_cid=1717484963525_7af3fa8f6b390afa99e6cceefc1f7531&wap_consumer=a&productIds=6920814271222478623%2C6920495561031696849%2C6920701478298234143%2C6919279594615293215%2C6920568366254362497%2C6920441802198069983%2C6920810219283765023%2C6920657977075497303%2C6920746413203430815%2C6920746413203672479%2C6920295777494005084%2C6920810219283658527%2C6920746413186145695%2C6919939189881445462%2C6920831890464369119%2C6920830277474846495%2C6920537699768227014%2C6920779904049473119%2C6920797015448207897%2C6919154619126978831&scene=rule_stream&standby_id=nature&extParams=%7B%22stdSizeVids%22%3A%22%22%2C%22preheatTipsVer%22%3A%223%22%2C%22couponVer%22%3A%22v2%22%2C%22exclusivePrice%22%3A%221%22%2C%22iconSpec%22%3A%222x%22%2C%22ic2label%22%3A1%2C%22superHot%22%3A1%2C%22bigBrand%22%3A%221%22%7D&context=%7B%22615%22%3A%221%22%2C%22872%22%3A%221%22%7D&_=1717489015644'
# 51-100的url
# url = 'https://mapi.vip.com/vips-mobile/rest/shopping/pc/product/module/list/v2?callback=getMerchandiseDroplets2&app_name=shop_pc&app_version=4.0&warehouse=VIP_HZ&fdc_area_id=104101101&client=pc&mobile_platform=1&province_id=104101&api_key=70f71280d5d547b2a7bb370a529aeea1&user_id=&mars_cid=1717484963525_7af3fa8f6b390afa99e6cceefc1f7531&wap_consumer=a&productIds=6920528903425224596%2C6920801724071028511%2C6920801724054103839%2C6920488570846748289%2C6920746413186497951%2C6920746413186178463%2C6920619013821605696%2C6920817247646095135%2C6920824671115495199%2C6920482366988342785%2C6920802763338393375%2C6920746413185990047%2C6920275051031330391%2C6920801724071044895%2C6920802763338495775%2C6920730631854378433%2C6920824671115503391%2C6920746413186137503%2C6920711854514491735%2C6920817554844509983%2C6920831890464516575%2C6920528903442403220%2C6919204252916921503%2C6920817689503082271%2C6920791571391513619%2C6920746413186276767%2C6920810219283941151%2C6920717412715406722%2C6920746413186022815%2C6920746413186096543%2C6920217099130918665%2C6920810219283719967%2C6920802763338422047%2C6919937432199508820%2C6920810219283625759%2C6920817562679580447%2C6919727198287868116%2C6920817554844456735%2C6920831890464303583%2C6919636260133320577%2C6920831890447444447%2C6920779904049485407%2C6920241773677453442%2C6920810219283904287%2C6920820485257905951%2C6920304454767192606%2C6920820485258082079%2C6920801724054112031%2C6920740799837055809%2C6920801724054058783&scene=rule_stream&standby_id=nature&extParams=%7B%22stdSizeVids%22%3A%22%22%2C%22preheatTipsVer%22%3A%223%22%2C%22couponVer%22%3A%22v2%22%2C%22exclusivePrice%22%3A%221%22%2C%22iconSpec%22%3A%222x%22%2C%22ic2label%22%3A1%2C%22superHot%22%3A1%2C%22bigBrand%22%3A%221%22%7D&context=%7B%22615%22%3A%221%22%2C%22872%22%3A%221%22%7D&_=1717489015643'
# 下面的是0-50的url
url = 'https://mapi.vip.com/vips-mobile/rest/shopping/pc/product/module/list/v2?callback=getMerchandiseDroplets1&app_name=shop_pc&app_version=4.0&warehouse=VIP_HZ&fdc_area_id=104101101&client=pc&mobile_platform=1&province_id=104101&api_key=70f71280d5d547b2a7bb370a529aeea1&user_id=&mars_cid=1717484963525_7af3fa8f6b390afa99e6cceefc1f7531&wap_consumer=a&productIds=6920810219283760927%2C6920820485257901855%2C6919934883094867017%2C6920746413203725727%2C6920017298292792223%2C6920457828288921025%2C6920746413185981855%2C6920831890464401887%2C6920782737177869249%2C6920746413203488159%2C6920746413186186655%2C6920457828288761281%2C6920746413186166175%2C6920746413203565983%2C6920746797347504321%2C6920817689503086367%2C6920746413186325919%2C6919998682856209409%2C6920820485257955103%2C6920801724054054687%2C6920315825581470657%2C6920831890464360927%2C6920817247646091039%2C6919979474766625601%2C6920746413203418527%2C6920746413186264479%2C6920473711960098305%2C6920746413186129311%2C6920746413186035103%2C6920488570846813825%2C6920802763338274591%2C6920801724071069471%2C6919969536473950529%2C6920746413186014623%2C6920779904049481311%2C6919937431914054484%2C6920817689503119135%2C6920746413186018719%2C6920789964863611860%2C6920746413203402143%2C6920746413203811743%2C6920496995856513673%2C6920803129425553183%2C6920746413186133407%2C6919897277737580545%2C6920833389960550879%2C6920441802180854495%2C6920504479671617537%2C6920746413203508639%2C6920810219283908383&scene=rule_stream&standby_id=nature'
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36',
    'Cookie': 'vip_first_visitor=1; vip_address=%257B%2522pid%2522%253A%2522104101%2522%252C%2522cid%2522%253A%2522104101101%2522%252C%2522pname%2522%253A%2522%255Cu6cb3%255Cu5357%255Cu7701%2522%252C%2522cname%2522%253A%2522%255Cu90d1%255Cu5dde%255Cu5e02%2522%257D; vip_province=104101; vip_province_name=%E6%B2%B3%E5%8D%97%E7%9C%81; vip_city_name=%E9%83%91%E5%B7%9E%E5%B8%82; vip_city_code=104101101; vip_wh=VIP_HZ; vip_ipver=31; user_class=a; mst_area_code=104104; mars_cid=1717484963525_7af3fa8f6b390afa99e6cceefc1f7531; mars_sid=2fa4e81a5dc0b167e9931f18dbc8724d; visit_id=42822191ED8E534EA6D8BB06D4FBEFC6; VIP_QR_FIRST=1; pc_fdc_area_id=104101101; pc_fdc_source_ip=1; mars_pid=27; vpc_uinfo=fr1352:0,fr674:D1,fr766:0,fr896:0,fr392:310505,fr398:0,fr408:0,fr251:A,fr1195:0,fr848:0,fr1196:0,fr902:0,fr901:0,fr980:0,fr1570:0,fr713:0,fr1575:0,fr1051:0,fr259:S0-4,fr1655:0,fr884:0,fr863:0,fr1527:0,fr344:0,fr249:A1,fr328:3105,fr1544:0,fr1543:0,fr1521:0; VipUINFO=luc%3Aa%7Csuc%3Aa%7Cbct%3Ac_new%7Chct%3Ac_new%7Cbdts%3A0%7Cbcts%3A0%7Ckfts%3A0%7Cc10%3A0%7Crcabt%3A0%7Cp2%3A0%7Cp3%3A1%7Cp4%3A0%7Cp5%3A0%7Cul%3A3105; vip_tracker_source_from=; vip_access_times=%7B%22list%22%3A2%7D; pg_session_no=7',
    'Referer': 'https://list.vip.com/',
}
res = requests.get(url=url, headers=headers)
# print(res)
products = res.content.decode()[24:-1]
# print(products)
products = json.loads(products)
products = products['data']['products']
# print(products)
print(len(products))

for pro in products:
    print(pro)
    # print(type(pro))
    title = pro['title']
    print(title)